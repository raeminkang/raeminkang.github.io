!function(e){e.fn.airklasssearch=function(a){var s=e.extend({contentLocation:"airklasssearch/airklasssearch_content.json",contextBuffer:60,contextLength:60,contextStart:90,debug:!1,descriptiveWords:25,highlightTerms:!0,liveContent:"*",liveDescription:"*",minimumLength:0,mode:"static",newWindow:!1,show:5,showContext:!0,showRelated:!0,showTime:!0,showTitleCount:!0,showURL:!1,wholeWords:!0,scoreMode:!1,isInputEmpty:!1},a);return this.each(function(){var a={pages:[]};e.ajaxSetup({async:!1});var t=0;if(e("#search-result-container").hide().html('<div class="airklass_search_spinner"><div class="airklass_search_rect1"></div><div class="airklass_search_rect2"></div><div class="rect3"></div></div>').show(),"live"==s.mode)for(var r=0;r<airklasssearch_pages.length;r++)e.get(airklasssearch_pages[r]).done(function(t){var i=e(s.liveContent,t).text();i=i.replace(/\s+/g," ");var l=e(s.liveDescription,t).text();l=l.replace(/\s+/g," ");var n=t.toLowerCase().indexOf("<title>"),c=t.toLowerCase().indexOf("</title>",n+7);if(-1!=n&&-1!=c)var h=t.slice(n+7,c);else h=airklasssearch_string_1;a.pages.push({title:h,text:l,tags:i,url:airklasssearch_pages[r]})});"json"==s.mode&&e.getJSON(s.contentLocation).done(function(s){a=e.extend({},s)}),"static"==s.mode&&(a=e.extend({},airklasssearch));function i(e){var a=location.search,t=new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(a)||[,""],r=t[1].replace(/\+/g,"%20"),i=unescape(t[1].replace(/\+/g,""));try{r=decodeURIComponent(r)}catch(e){r=unescape(r)}return""!=r&&0!=unescape(i).length||(s.isInputEmpty=!0,r="empty"),r||null}function l(){document.getElementById("user-input-text").textContent="검색어를 입력 해주세요.",document.getElementById("user-input-text-sub").textContent=""}function n(r,l){var c="",h=!1,o=!1,g=!0,p=0;found=[];var d=e("#header-search-text").val(),_=d.toLowerCase();((_=e.trim(_)).match('^"')&&_.match('"$')||_.match("^'")&&_.match("'$"))&&(g=!1);var u=_.split(" ");if(g){_="";for(var v=0;v<u.length;v++){for(var m=!0,f=0;f<airklasssearch_stop_words.length;f++)u[v]==airklasssearch_stop_words[f]&&(m=!1,o=!0);m&&(_=_+" "+u[v])}u=(_=e.trim(_)).split(" ")}else _=_.substring(1,_.length-1);if(_.length>=s.minimumLength){if(g){if(l){var w=_;for(v=0;v<u.length;v++)for(f=0;f<airklasssearch_replace.words.length;f++)u[v]==airklasssearch_replace.words[f].word&&(_=_.replace(u[v],airklasssearch_replace.words[f].replace_with),h=!0);u=_.split(" ")}var k=_;for(v=0;v<u.length;v++)for(f=0;f<airklasssearch_stem.words.length;f++)u[v]==airklasssearch_stem.words[f].word&&(k=k+" "+airklasssearch_stem.words[f].stem);u=k.split(" ");for(v=0;v<a.pages.length;v++){var x=0,y=a.pages[v].text;if(s.scoreMode){for(f=0;f<u.length;f++){if(s.wholeWords)var b=new RegExp("\\b"+u[f]+"\\b","gi");else b=new RegExp(u[f],"gi");if(-1!=a.pages[v].title.search(b))x+=20*a.pages[v].title.match(b).length;if(-1!=a.pages[v].text.search(b))x+=20*a.pages[v].text.match(b).length;if(-1!=a.pages[v].tags.search(b))x+=10*a.pages[v].tags.match(b).length;if(-1!=a.pages[v].url.search(b)&&(x+=20),0!=x)for(var E=0;E<airklasssearch_weight.weight.length;E++)a.pages[v].url==airklasssearch_weight.weight[E].url&&(x+=airklasssearch_weight.weight[E].score);u[f].match("^-")&&(b=new RegExp(u[f].substring(1),"i"),-1==a.pages[v].title.search(b)&&-1==a.pages[v].text.search(b)&&-1==a.pages[v].tags.search(b)||(x=0))}0!=x&&(found.push({score:x,title:a.pages[v].title,desc:y,url:a.pages[v].url,article_html:a.pages[v].article_html}),p++)}else{for(f=0;f<u.length;f++){if(s.wholeWords)b=new RegExp("\\b"+u[f]+"\\b","gi");else b=new RegExp(u[f],"gi");if(-1!=a.pages[v].title.search(b)){a.pages[v].title.match(b).length;x=1}if(-1!=a.pages[v].text.search(b)){a.pages[v].text.match(b).length;x=1}if(-1!=a.pages[v].tags.search(b)){a.pages[v].tags.match(b).length;x=1}if(-1!=a.pages[v].url.search(b)&&(x=1),0!=x)for(E=0;E<airklasssearch_weight.weight.length;E++)a.pages[v].url==airklasssearch_weight.weight[E].url&&(x+=airklasssearch_weight.weight[E].score);u[f].match("^-")&&(b=new RegExp(u[f].substring(1),"i"),-1==a.pages[v].title.search(b)&&-1==a.pages[v].text.search(b)&&-1==a.pages[v].tags.search(b)||(x=0))}0!=x&&(found.push({score:x,title:a.pages[v].title,desc:y,url:a.pages[v].url,article_html:a.pages[v].article_html}),p++)}}}else for(v=0;v<a.pages.length;v++){x=0,y=a.pages[v].text,b=new RegExp(_,"gi");if(-1!=a.pages[v].title.search(b))x+=20*a.pages[v].title.match(b).length;if(-1!=a.pages[v].text.search(b))x+=20*a.pages[v].text.match(b).length;if(-1!=a.pages[v].tags.search(b))x+=10*a.pages[v].tags.match(b).length;if(-1!=a.pages[v].url.search(b)&&(x+=20),0!=x)for(E=0;E<airklasssearch_weight.weight.length;E++)a.pages[v].url==airklasssearch_weight.weight[E].url&&(x+=airklasssearch_weight.weight[E].score);0!=x&&(found.push({score:x,title:a.pages[v].title,desc:y,url:a.pages[v].url,article_html:a.pages[v].article_html}),p++)}if(0!=p){if(s.showTitleCount&&0==t){var C=document.title;document.title="("+p+") "+C,t++}if(h&&(c+='<div id="airklass_search_warning">'+airklasssearch_string_2+" "+_+". "+airklasssearch_string_3+' <a id="airklass_search_replaced">'+w+"</a></div>"),1==p?c+='<div style="margin-bottom:20px;"><span class="total_meta_num">'+airklasssearch_string_4+"</span>":(c_c=p.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),c+='<div style="margin-bottom:20px;"><span class="total_meta_num">'+airklasssearch_string_16+c_c+"</span>"),s.showTime)c+=" ("+(((new Date).getTime()-startTimer)/1e3).toFixed(2)+" "+airklasssearch_string_14+")",s.showTime=!1;c+="</div>",found.sort(function(e,a){return a.score-e.score});var R=0;for(v=0;v<found.length;v++)R>=r&&R<s.show+r&&(c+=found[v].article_html),R++;if(s.showRelated&&g){f=0;for(v=0;v<airklasssearch_related.searches.length;v++)_==airklasssearch_related.searches[v].search&&(h&&(d=_),f||(c+='<div class="airklass_search_related_title">'+airklasssearch_string_15+' <span class="airklass_search_related_bold">'+d+'</span></div><div class="airklass_search_related_cols">'),c+='<div class="airklass_search_related_text"><a class="airklass_search_related" id="'+airklasssearch_related.searches[v].related+'">',airklasssearch_related.searches[v].before&&(c+='<span class="airklass_search_related_before">'+airklasssearch_related.searches[v].before+"</span> "),c+=airklasssearch_related.searches[v].related,airklasssearch_related.searches[v].after&&(c+=' <span class="airklass_search_related_after">'+airklasssearch_related.searches[v].after+"</span>"),c+="</a></div>",f++);f&&(c+="</div>")}if(p>s.show){var I=Math.ceil(p/s.show),L=r/s.show,T=Math.floor(L/5),B=5*T+1,W=B+4;if(W>I&&(W=I),c+='<nav><div id="pagination"><ul id="airklass_search_foot_boxes" class="pagination-inline-list">',r>0&&0!=T){var j=r-5*s.show;j<0&&(j=0),c+='<li class="paginator-page-outline" role="navigation"><div class="page-outline"><div class="paginator-page-inline"><a class="search-result-paginator" style="cursor:pointer;" accesskey="b" id="'+j+"_"+l+'"><img class="pagination-icon" src="/assets/images/resource/ic-backword-arrow.svg" alt=""></a></div></div></li>'}if(L<=4){var D=I;I>5&&(D=5);for(f=0;f<D;f++)c+=f==L?'<li class="current-paginator-page-outline" role="navigation"><div class="page-outline current-page"><div class="paginator-page-inline"><span>'+(f+1)+"</span></div></div></li>":'<li class="paginator-page-outline" role="navigation"><div class="page-outline"><div class="paginator-page-inline"><a class="search-result-paginator" style="cursor:pointer;" id="'+f*s.show+"_"+l+'">'+(f+1)+"</a></div></div></li>"}else{(D=L+4)>I&&(D=W);for(f=B-1;f<W;f++)c+=f==L?'<li class="current-paginator-page-outline" role="navigation"><div class="page-outline current-page"><div class="paginator-page-inline"><span>'+(f+1)+"</span></div></div></li>":'<li class="paginator-page-outline" role="navigation"><div class="page-outline"><div class="paginator-page-inline"><a class="search-result-paginator" style="cursor:pointer;" id="'+f*s.show+"_"+l+'">'+(f+1)+"</a></div></div></li>"}if(L+1!=I&&I!=W){var M=5*(L+s.show);M>p&&(M=5*(I-1)),c+='<li class="paginator-page-outline" role="navigation"><div class="page-outline"><div class="paginator-page-inline"><a class="search-result-paginator" accesskey="m" style="cursor:pointer;" id="'+M+"_"+l+'"><img class="pagination-icon" src="/assets/images/resource/ic-foreword-arrow.svg" alt=""></a></div></div></li>'}c+="</ul></div></nav>"}document.getElementById("user-input-text").textContent=i("search")}else document.getElementById("user-input-text").textContent=i("search"),document.getElementById("user-input-text-sub").textContent="에 대한 결과가 없습니다."}else o?c+='<div id="airklass_search_warning">'+airklasssearch_string_8+". "+airklasssearch_string_9+"</div>":(c+='<div id="airklass_search_warning">'+airklasssearch_string_10+"</div>",1==s.minimumLength?c+='<div id="airklass_search_warning">'+airklasssearch_string_11+"</div>":c+='<div id="airklass_search_warning">'+airklasssearch_string_12+" "+s.minimumLength+" "+airklasssearch_string_13+"</div>");e("#search-result-container").hide().html(c).slideDown(200),e("#airklass_search_replaced").click(function(){n(0,!1)}),e(".airklass_search_related").click(function(){e("#header-search-text").val(e(this).attr("id")),n(0,!0)}),e(".search-result-paginator").click(function(){var a=e(this).attr("id").split("_");n(parseInt(a[0]),a[1])})}s.newWindow,i("search")&&(s.isInputEmpty?l():(e("#header-search-text").val(i("search")),n(0,!0))),e(this).keyup(function(e){"13"==e.keyCode&&(s.isInputEmpty?l():n(0,!0))})})}}(jQuery);